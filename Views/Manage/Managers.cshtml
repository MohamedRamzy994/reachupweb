@using PagedList.Mvc;
@using PagedList;
@using AppletSoftware.Models
@model PagedList.IPagedList<ManagersShowViewModel>
@{

    Layout = "~/Views/Shared/_DashLayout.cshtml";
}

<!-- /inner_content_w3_agile_info-->
<!-- breadcrumbs -->
<div class="w3l_agileits_breadcrumbs">
    <div class="w3l_agileits_breadcrumbs_inner">
        <ul>
            <li><a href="@Url.Action("Dashboard","Manage")">@Appletindex.Index.applettopmenuhome</a><span>«</span></li>

            <li>@AppletDashIndex.DashIndex.appletdashindexsidebarmanagers</li>
        </ul>
    </div>
</div>
<!-- //breadcrumbs -->
<!-- ------------------------------------------------------------------------------ -->

<div class="inner_content_w3_agile_info codeHtml code_blog two_in">

    <!-- tables -->
    <div class="agile-tables">

        <!-- start my-panel -->
        <div class="my-panel w3l-table-info agile_info_shadow y">

            <div class="col-md-12">

                <a class="btn btn-primary" href="@Url.Action("Register","Account")">
                    <i class="fa fa-plus-square"></i> &nbsp;  @AppletDashIndex.DashIndex.appletdashindexsidebarnewmanager
                </a>
               

            </div>
            <br />
            <br />
            <div class="col-xs-12">

                <div class="panel panel-default">

                    <div class="panel-heading">@AppletDashIndex.DashIndex.appletdashindexsidebarmanagers</div>

                    <div class="btn-block">
                        <div class="row">

                            <div class="col-md-4">

                                <span class="input-group-addon has-error">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input id="txtsearchManagersname" class="form-control1 icon" placeholder="@AppletDashIndex.DashIndex.appletdashteamssearchbyname" type="text">

                            </div>
                            <div class="col-md-4">

                                <span class="input-group-addon has-error">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input id="txtsearchManagerphone" class="form-control1 icon" placeholder="@AppletDashIndex.DashIndex.appletdashteamssearchbyphonenumber" type="text">

                            </div>

                            <div class="col-md-4">

                                <div class="input-group-addon has-error"><i class="fa fa-search"></i></div>
                                <input id="txtsearchManagersphone" class="form-control1 icon" placeholder="@AppletDashIndex.DashIndex.appletdashteamssearchbyname" type="text">

                            </div>



                        </div>
                        <div class="xpanel-body">

                            <div class="table-responsive">

                                <table class="table table-hover" id="tblManagers">
                                    <thead>
                                        <tr style="cursor:pointer">
                                            <th class="hidden-xs hidden-sm">@AppletDashIndex.DashIndex.appletdashprojectsimage</th>
                                            <th>@AppletDashIndex.DashIndex.appletdashteamsfname</th>
                                            <th>@AppletDashIndex.DashIndex.appletdashteamslname</th>
                                            <th>@AppletDashIndex.DashIndex.appletdashteamsemail</th>
                                            <th>@AppletDashIndex.DashIndex.appletdashteamsphone</th>

                                            <th>@AppletDashIndex.DashIndex.appletdashprojectsdatetime</th>

                                            <th>@AppletDashIndex.DashIndex.appletdashprojectsadd</th>
                                            <th>@AppletDashIndex.DashIndex.appletdashprojectsedit</th>
                                            <th>@AppletDashIndex.DashIndex.appletdashprojectsdelete</th>
                                        </tr>
                                    </thead>

                                    <!-- -------------------------------------------------------------------------- -->

                                    <tbody>
                                        @foreach (var item in Model)
                                        {
                                            <tr style="cursor:pointer">

                                                <td class="hidden">@Html.HiddenFor(m => item.Users.Id)</td>
                                                <td class="hidden-xs hidden-sm">
                                                    <img src="@Url.Content("~/Images/resizedmanagers/"+item.UsersPlusInfo.UInfo_Photo)" class="img-responsive">
                                                </td>
                                                <td>@Html.DisplayFor(m => item.UsersPlusInfo.UInfoPlus_Fname_En)</td>



                                                <td>@Html.DisplayFor(m => item.UsersPlusInfo.UInfo_Lname_En)</td>
                                                <td>@Html.DisplayFor(m => item.Users.Email)</td>
                                                <td>@Html.DisplayFor(m => item.Users.PhoneNumber)</td>


                                                <td>@Html.DisplayFor(m => item.UsersPlusInfo.UInfo_DateTime)</td>



                                                <td>
                                                    <a href="@Url.Action("Register","Account")" data-placement="top" data-toggle="tooltip" title="" data-original-title="Add">
                                                        <button class="btn btn-info btn-xs" data-title="Add">
                                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                                        </button>
                                                    </a>
                                                </td>
                                                <td>

                                                    <a href="@Url.Action("EditManagers","Manage",new { Manager_Id = item.Users.Id })" data-placement="top" data-toggle="tooltip" title="" data-original-title="Edit">
                                                        <button class="btn btn-success btn-xs" data-title="Edit">
                                                            <i class="fa fa-pencil" aria-hidden="true"></i>
                                                        </button>
                                                    </a>


                                                </td>
                                                <td>
                                                    @using (Html.BeginForm("DeleteManagers", "Manage", new { Manager_Id = item.Users.Id }, FormMethod.Post))
                                                    {
                                                        @Html.AntiForgeryToken()
                                                        <a href="" data-placement="top" data-toggle="tooltip" title="" data-original-title="Delete">
                                                            <button class="btn btn-danger btn-xs btndelete" data-title="Delete">
                                                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                                                            </button>
                                                        </a>
                                                    }
                                                </td>

                                            </tr>

                                            <!-- --------------------------------------------------------------------------- -->

                                        }

                                    </tbody>


                                    <!-- --------------------------------------------------------------------------- -->

                                </table>
                                <!-- End Table -->

                            </div>
                            <!-- /.table-responsive -->

                        </div>

                        <div class="btn btn-product">
                            <nav aria-label="Page navigation">


                                @Html.PagedListPager(Model, page => Url.Action("Managers", new { page }))

                            </nav>
                        </div>

                    </div>
                    <!-- End btn-block -->

                </div>
                <!-- End panel -->

            </div>
            <!-- End col -->



        </div>
        <!-- End My panel -->
        <!-- --------------------------------------------------------------------------- -->
        <!-- --------------------------------------------------------------------------------------------------------------------------------------------------------------------- -->


    </div>
    <!-- //tables agile-tables -->

</div>
<!-- codeHtml -->
<!-- ------------------------------------------------------------------------------- -->


<script type="text/javascript">
    $("#txtsearchManagersname").keyup(function () {
        var val = $(this).val();

        $('#tblManagers tbody tr').hide();
        var trs = $('table tbody tr').filter(function (d) {
            return $(this).text().toLowerCase().indexOf(val) != -1;
        });
        trs.show();


    });
    $("#txtsearchManagersphone").keyup(function () {
        var val = $(this).val();

        $('#tblManagers tbody tr').hide();
        var trs = $('table tbody tr').filter(function (d) {
            return $(this).text().toLowerCase().indexOf(val) != -1;
        });
        trs.show();


    });

    $("#txtsearchManagersdate").change(function () {
        var val = $(this).val();

        $('#tblManagers tbody tr').hide();
        var trs = $('table tbody tr').filter(function (d) {
            return $(this).text().toLowerCase().indexOf(val) != -1;
        });
        trs.show();


    });
    $("#txtsearchManagersphone").change(function () {
        var val = $(this).val().toLowerCase();

        $('#tblManagers tbody tr').hide();
        var trs = $('table tbody tr').filter(function (d) {
            return $(this).text().toLowerCase().indexOf(val) != -1;
        });
        trs.show();


    });


    $(document).on("click", ".btndelete", function myfunction(e) {

        if (confirm("Are you sure you want to  delete ?")) {

            __doPostBack('btndelete');



        } else {



            return false;
        }
        ;



    })



</script>

<script type="text/javascript">

    $(document).ready(function () {

        var modelStatus =@string.IsNullOrEmpty(ViewBag.alertMessage).ToString().ToLower();

        if (status == false) {

            var modelMessage =@string.Compare(ViewBag.alertMessage, "Success");


            if (modelMessage == 0) {



                $.toast({
                    text: " Managers Deleted Successfuly Thank you :) !", // Text that is to be shown in the toast
                    heading: 'APPLET Software', // Optional heading to be shown on the toast
                    icon: 'success', // Type of toast icon
                    showHideTransition: 'slide', // fade, slide or plain
                    allowToastClose: true, // Boolean value true or false
                    hideAfter: 10000, // false to make it sticky or number representing the miliseconds as time after which toast needs to be hidden
                    stack: 5, // false if there should be only one toast at a time or a number representing the maximum number of toasts to be shown at a time
                    position: { left: '0', right: '0', top: '0', bottom: 'auto' }, // bottom-left or bottom-right or bottom-center or top-left or top-right or top-center or mid-center or an object representing the left, right, top, bottom values



                    textAlign: 'center',  // Text alignment i.e. left, right or center
                    loader: true,  // Whether to show loader or not. True by default
                    loaderBg: '#9EC600',  // Background color of the toast loader
                    beforeShow: function () { }, // will be triggered before the toast is shown
                    afterShown: function () { }, // will be triggered after the toat has been shown
                    beforeHide: function () { }, // will be triggered before the toast gets hidden
                    afterHidden: function () { }  // will be triggered after the toast has been hidden
                });




            }



        }




    });

</script>